{
    "openapi": "3.0.0",
    "info": {
        "title": "Phishing Simulation Platform API",
        "description": "Comprehensive API for managing phishing simulation campaigns, employee training, and security awareness programs.",
        "contact": {
            "email": "support@phishingsim.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://my-default-host.com",
            "description": "API Server"
        }
    ],
    "paths": {
        "/api/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new company",
                "description": "Create a new company account with authentication credentials",
                "operationId": "da8643013c2941f5ed7f8a9c9b4a7f7a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Acme Corporation"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@acme.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Company registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company registered successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Acme Corporation"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "admin@acme.com"
                                                        },
                                                        "plan_id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "type": "string",
                                                    "example": "1|abc123..."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email has already been taken."
                                                    }
                                                },
                                                "password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The password confirmation does not match."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error - No default plan available",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No default plan available. Please contact support."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login company",
                "description": "Authenticate company and return access token",
                "operationId": "535ffeda4b78916efd658b2844ea897a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@acme.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Login successful"
                                        },
                                        "data": {
                                            "properties": {
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Acme Corporation"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "admin@acme.com"
                                                        },
                                                        "plan_id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "type": "string",
                                                    "example": "1|abc123..."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The provided credentials are incorrect."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email field is required."
                                                    }
                                                },
                                                "password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The password field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout company",
                "description": "Logout the authenticated company and revoke the current access token",
                "operationId": "46f8a14c8083abb69eed72768aa08629",
                "responses": {
                    "200": {
                        "description": "Logout successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Logout successful"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Invalid or missing token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/auth/refresh": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Refresh access token",
                "description": "Refresh the current access token by revoking the old one and creating a new one",
                "operationId": "f3538b6e9c46bcf601a9d194288b03d4",
                "responses": {
                    "200": {
                        "description": "Token refreshed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Token refreshed successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Acme Corporation"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "admin@acme.com"
                                                        },
                                                        "plan_id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "plan": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Free"
                                                                },
                                                                "price": {
                                                                    "type": "number",
                                                                    "format": "float",
                                                                    "example": 0
                                                                },
                                                                "employee_limit": {
                                                                    "type": "integer",
                                                                    "example": 10
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "token": {
                                                    "type": "string",
                                                    "example": "2|new123token456def789ghi012jkl345mno678pqr901stu234"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Invalid or missing token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get current company profile",
                "description": "Get the profile information of the currently authenticated company",
                "operationId": "1537d2a532022d0974e4cd2d83c6a38f",
                "responses": {
                    "200": {
                        "description": "Company profile retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company profile retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Acme Corporation"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "admin@acme.com"
                                                },
                                                "plan_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "plan": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Free"
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 0
                                                        },
                                                        "employee_limit": {
                                                            "type": "integer",
                                                            "example": 10
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-09-06T10:00:00.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-09-06T10:00:00.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Invalid or missing token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/auth/change-password": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Change company password",
                "description": "Change the password for the currently authenticated company",
                "operationId": "979471cf90913acaadb76804e76634fc",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "current_password",
                                    "new_password",
                                    "new_password_confirmation"
                                ],
                                "properties": {
                                    "current_password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "oldpassword123"
                                    },
                                    "new_password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "newpassword123"
                                    },
                                    "new_password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "newpassword123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password changed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Password changed successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Invalid current password",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "current_password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The current password is incorrect."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "new_password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The new password confirmation does not match."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/templates": {
            "get": {
                "tags": [
                    "Campaign"
                ],
                "summary": "List available phishing templates",
                "description": "Get all available email templates for phishing campaigns",
                "operationId": "e28ada6d5b2b1ffebd8d5eb49f65227f",
                "responses": {
                    "200": {
                        "description": "Templates retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Templates retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Password Reset"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "phishing"
                                                    },
                                                    "subject": {
                                                        "type": "string",
                                                        "example": "Urgent: Password Reset Required"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/create": {
            "post": {
                "tags": [
                    "Campaign"
                ],
                "summary": "Create a new campaign",
                "description": "Create a new phishing simulation campaign with specified type and date range",
                "operationId": "b16c55dbc21afc8323e8d04549c2798c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "type",
                                    "start_date",
                                    "end_date"
                                ],
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "phishing",
                                            "awareness",
                                            "training"
                                        ],
                                        "example": "phishing"
                                    },
                                    "start_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-06"
                                    },
                                    "end_date": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-09-13"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Campaign created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Campaign created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "company_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "phishing"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "draft"
                                                },
                                                "start_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-06"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-13"
                                                },
                                                "targets_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "interactions_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/add-targets": {
            "post": {
                "tags": [
                    "Campaign"
                ],
                "summary": "Add targets to campaign",
                "description": "Add employee targets to an existing campaign for phishing simulation",
                "operationId": "4f9abbdcac3f76302afa186d804d5ca4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "campaign_id",
                                    "targets"
                                ],
                                "properties": {
                                    "campaign_id": {
                                        "description": "ID of the campaign",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "targets": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email",
                                                    "example": "john.doe@company.com"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Targets added successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Targets added successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "campaign": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "type": {
                                                            "type": "string",
                                                            "example": "phishing"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "example": "draft"
                                                        },
                                                        "targets_count": {
                                                            "type": "integer",
                                                            "example": 3
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "targets_added": {
                                                    "type": "integer",
                                                    "example": 3
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "targets.0.email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The targets.0.email field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/{id}/details": {
            "get": {
                "tags": [
                    "Campaign"
                ],
                "summary": "Get campaign details",
                "description": "Get detailed information about a specific campaign including targets and interactions",
                "operationId": "214a988900807ed5228cec93c8766c3c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Campaign ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Campaign details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Campaign details retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "company_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "phishing"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "active"
                                                },
                                                "start_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-06"
                                                },
                                                "end_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2025-09-13"
                                                },
                                                "targets_count": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "interactions_count": {
                                                    "type": "integer",
                                                    "example": 9
                                                },
                                                "targets": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "John Doe"
                                                            },
                                                            "email": {
                                                                "type": "string",
                                                                "example": "john.doe@company.com"
                                                            },
                                                            "interactions": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "interactions": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaigns": {
            "get": {
                "tags": [
                    "Campaign"
                ],
                "summary": "List company campaigns",
                "description": "Get a paginated list of all campaigns for the authenticated company",
                "operationId": "4bf018f4ce1fdea1d016fd9046e826fe",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number for pagination",
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of campaigns per page",
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter campaigns by status",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "draft",
                                "active",
                                "completed",
                                "paused"
                            ],
                            "example": "active"
                        }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filter campaigns by type",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "phishing",
                                "awareness",
                                "training"
                            ],
                            "example": "phishing"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Campaigns retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Campaigns retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "company_id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "phishing"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "active"
                                                    },
                                                    "start_date": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "example": "2025-09-06"
                                                    },
                                                    "end_date": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "example": "2025-09-13"
                                                    },
                                                    "targets_count": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "interactions_count": {
                                                        "type": "integer",
                                                        "example": 25
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 45
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/{id}/send-emails": {
            "post": {
                "tags": [
                    "Campaign"
                ],
                "summary": "Send campaign emails",
                "description": "Queue and send phishing simulation emails to all campaign targets",
                "operationId": "284ea58b77c361ff860a000320a536fd",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Campaign ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Emails queued for sending successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Emails queued for sending successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "campaign_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "emails_queued": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "estimated_delivery": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "queued"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/{id}/stats": {
            "get": {
                "tags": [
                    "Campaign"
                ],
                "summary": "Get campaign statistics",
                "description": "Get comprehensive statistics and performance metrics for a specific campaign",
                "operationId": "9a14b02c24912639b3c706d396dd7a53",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Campaign ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Campaign statistics retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Campaign statistics retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "campaign": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "type": {
                                                            "type": "string",
                                                            "example": "phishing"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "example": "active"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "stats": {
                                                    "properties": {
                                                        "total_targets": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "total_sent": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "total_opened": {
                                                            "type": "integer",
                                                            "example": 8
                                                        },
                                                        "total_clicked": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "total_submitted": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "total_failed": {
                                                            "type": "integer",
                                                            "example": 0
                                                        },
                                                        "open_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 80
                                                        },
                                                        "click_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 30
                                                        },
                                                        "submit_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 10
                                                        },
                                                        "vulnerability_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 10
                                                        },
                                                        "vulnerable_employees": {
                                                            "type": "array",
                                                            "items": {
                                                                "properties": {
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "John Doe"
                                                                    },
                                                                    "email": {
                                                                        "type": "string",
                                                                        "example": "john.doe@company.com"
                                                                    },
                                                                    "risk_level": {
                                                                        "type": "string",
                                                                        "example": "high"
                                                                    },
                                                                    "actions": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "string"
                                                                        }
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/{campaignId}/resend-email/{targetId}": {
            "post": {
                "tags": [
                    "Campaign"
                ],
                "summary": "Resend email to target",
                "description": "Resend phishing simulation email to a specific target in a campaign",
                "operationId": "0785c6e8bebb37b7eb1c71bd7d82ce19",
                "parameters": [
                    {
                        "name": "campaignId",
                        "in": "path",
                        "description": "Campaign ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "targetId",
                        "in": "path",
                        "description": "Target ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Email resent successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Email resent successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "target_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "campaign_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "john.doe@company.com"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "queued"
                                                },
                                                "estimated_delivery": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Email resend failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to resend email"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign or target not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/campaign/{id}/ai-analysis": {
            "get": {
                "tags": [
                    "Campaign"
                ],
                "summary": "Get AI analysis for campaign",
                "description": "Get comprehensive AI-powered analysis of campaign performance, training suggestions, and improvement recommendations",
                "operationId": "1a9aef2efe8d3f67fc4e1c6ee7856364",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Campaign ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "AI analysis completed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "AI analysis completed successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "campaign_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "campaign_type": {
                                                    "type": "string",
                                                    "example": "phishing"
                                                },
                                                "analysis_date": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "current_performance": {
                                                    "properties": {
                                                        "total_targets": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "open_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 85.5
                                                        },
                                                        "click_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 25
                                                        },
                                                        "submit_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 5
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "suggestions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "type": {
                                                                "type": "string",
                                                                "example": "critical"
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Immediate Security Training Required"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "1 employee(s) submitted credentials"
                                                            },
                                                            "priority": {
                                                                "type": "string",
                                                                "example": "high"
                                                            },
                                                            "action_required": {
                                                                "type": "boolean",
                                                                "example": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "improvement": {
                                                    "type": "string",
                                                    "example": "10% better than last campaign"
                                                },
                                                "risk_level": {
                                                    "properties": {
                                                        "level": {
                                                            "type": "string",
                                                            "example": "medium"
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "Some employees are vulnerable"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/companies": {
            "get": {
                "tags": [
                    "Company"
                ],
                "summary": "List all companies",
                "description": "Get a paginated list of all companies in the system (admin only)",
                "operationId": "e4c646743cf8782abcdc38256bb2d487",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number for pagination",
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of companies per page",
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search companies by name or email",
                        "schema": {
                            "type": "string",
                            "example": "Acme"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Companies retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Companies retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Acme Corporation"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "admin@acme.com"
                                                    },
                                                    "plan_id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "plan": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Free"
                                                            },
                                                            "price": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 0
                                                            },
                                                            "employee_limit": {
                                                                "type": "integer",
                                                                "example": 10
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 75
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Admin access required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Company"
                ],
                "summary": "Create a new company",
                "description": "Create a new company account (admin only)",
                "operationId": "0098c37f028520dc9b1605d2fa4af0ea",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation",
                                    "plan_id"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "New Corporation"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@newcorp.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "plan_id": {
                                        "description": "ID of the subscription plan",
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Company created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "New Corporation"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "admin@newcorp.com"
                                                },
                                                "plan_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "plan": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Free"
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 0
                                                        },
                                                        "employee_limit": {
                                                            "type": "integer",
                                                            "example": 10
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Admin access required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email has already been taken."
                                                    }
                                                },
                                                "plan_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The selected plan id is invalid."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/companies/{id}": {
            "get": {
                "tags": [
                    "Company"
                ],
                "summary": "Get company details",
                "description": "Get detailed information about a specific company",
                "operationId": "435c2a01cf0ac3461e956a0c4fcf0920",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Company ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Company details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company details retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Acme Corporation"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "admin@acme.com"
                                                },
                                                "plan_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "plan": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Free"
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 0
                                                        },
                                                        "employee_limit": {
                                                            "type": "integer",
                                                            "example": 10
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "statistics": {
                                                    "properties": {
                                                        "campaigns_count": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "users_count": {
                                                            "type": "integer",
                                                            "example": 25
                                                        },
                                                        "payments_count": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "total_spent": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 150
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Company not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Company"
                ],
                "summary": "Update company information",
                "description": "Update company details including name, email, and plan",
                "operationId": "d6fa8a1deae1a48611c3db5ad75413c4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Company ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Updated Corporation Name"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "newadmin@company.com"
                                    },
                                    "plan_id": {
                                        "description": "New subscription plan ID",
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Company updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Updated Corporation Name"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "newadmin@company.com"
                                                },
                                                "plan_id": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "plan": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Basic"
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 10
                                                        },
                                                        "employee_limit": {
                                                            "type": "integer",
                                                            "example": 50
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Company not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The email has already been taken."
                                                    }
                                                },
                                                "plan_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The selected plan id is invalid."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Company"
                ],
                "summary": "Delete company",
                "description": "Permanently delete a company and all associated data (admin only)",
                "operationId": "4ec3ce7d20a8d55a55f4af1615529ab8",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Company ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Company deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company deleted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "deleted_company_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "deleted_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "cascade_deleted": {
                                                    "properties": {
                                                        "campaigns": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "users": {
                                                            "type": "integer",
                                                            "example": 25
                                                        },
                                                        "payments": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "interactions": {
                                                            "type": "integer",
                                                            "example": 150
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Admin access required",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Company not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/companies/{id}/statistics": {
            "get": {
                "tags": [
                    "Company"
                ],
                "summary": "Get company statistics",
                "description": "Get comprehensive statistics and analytics for a specific company",
                "operationId": "5a33644c9fbcc65e6934e35eb93808c3",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Company ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Company statistics retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company statistics retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Acme Corporation"
                                                        },
                                                        "plan": {
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Basic"
                                                                },
                                                                "employee_limit": {
                                                                    "type": "integer",
                                                                    "example": 50
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "overview": {
                                                    "properties": {
                                                        "total_campaigns": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "total_targets": {
                                                            "type": "integer",
                                                            "example": 150
                                                        },
                                                        "total_interactions": {
                                                            "type": "integer",
                                                            "example": 450
                                                        },
                                                        "average_vulnerability_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 25.5
                                                        },
                                                        "improvement_trend": {
                                                            "type": "string",
                                                            "example": "positive"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "campaign_performance": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "campaign_id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "example": "phishing"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "example": "completed"
                                                            },
                                                            "vulnerability_rate": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 33.33
                                                            },
                                                            "improvement": {
                                                                "type": "string",
                                                                "example": "+5%"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "employee_insights": {
                                                    "properties": {
                                                        "most_vulnerable_employees": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "most_secure_employees": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Company not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/company/dashboard": {
            "get": {
                "tags": [
                    "Company"
                ],
                "summary": "Get company dashboard",
                "description": "Get comprehensive dashboard data including company information, statistics, and recent activity",
                "operationId": "43f0c2e4c2d1377b58afaeaf4a3eb71d",
                "responses": {
                    "200": {
                        "description": "Dashboard data retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Dashboard data retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Acme Corporation"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "admin@acme.com"
                                                        },
                                                        "plan_id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "plan": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 2
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Basic"
                                                                },
                                                                "price": {
                                                                    "type": "number",
                                                                    "format": "float",
                                                                    "example": 10
                                                                },
                                                                "employee_limit": {
                                                                    "type": "integer",
                                                                    "example": 50
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "statistics": {
                                                    "properties": {
                                                        "total_campaigns": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "active_campaigns": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "completed_campaigns": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "total_targets": {
                                                            "type": "integer",
                                                            "example": 150
                                                        },
                                                        "total_interactions": {
                                                            "type": "integer",
                                                            "example": 450
                                                        },
                                                        "successful_simulations": {
                                                            "type": "integer",
                                                            "example": 4
                                                        },
                                                        "vulnerable_employees": {
                                                            "type": "integer",
                                                            "example": 12
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "recent_activity": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "type": {
                                                                "type": "string",
                                                                "example": "campaign_completed"
                                                            },
                                                            "message": {
                                                                "type": "string",
                                                                "example": "Phishing Campaign #3 completed"
                                                            },
                                                            "timestamp": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/track/{token}/opened": {
            "get": {
                "tags": [
                    "Email Tracking"
                ],
                "summary": "Track email open",
                "description": "Track when an email is opened by returning a 1x1 transparent pixel. This endpoint is called automatically by email clients when images are loaded.",
                "operationId": "d1b87983989d5161115e1369de340669",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Unique campaign token",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "abc123def456"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tracking pixel returned successfully",
                        "content": {
                            "image/gif": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "204": {
                        "description": "No content - Tracking failed",
                        "content": {
                            "text/plain": {
                                "schema": {
                                    "type": "string",
                                    "example": ""
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid token"
                                        },
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/track/{token}/clicked": {
            "get": {
                "tags": [
                    "Email Tracking"
                ],
                "summary": "Track email link click",
                "description": "Track when a user clicks on a link in a phishing simulation email and redirect to the phishing page",
                "operationId": "5ba6ed01d00cc8a659ea3016cd7fe2bc",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Unique campaign token",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "abc123def456"
                        }
                    }
                ],
                "responses": {
                    "302": {
                        "description": "Redirect to phishing page",
                        "headers": {
                            "Location": {
                                "description": "URL to redirect to",
                                "schema": {
                                    "type": "string",
                                    "example": "/api/campaign/abc123def456"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found - Redirect to 404 page",
                        "headers": {
                            "Location": {
                                "description": "URL to redirect to",
                                "schema": {
                                    "type": "string",
                                    "example": "https://example.com/404"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid token"
                                        },
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/campaign/{token}": {
            "get": {
                "tags": [
                    "Email Tracking"
                ],
                "summary": "Show phishing simulation page",
                "description": "Display a phishing simulation page based on the campaign template. This page is shown to employees who click on phishing email links.",
                "operationId": "f34f661c61a9685eef0d7e7a126f7fc6",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Unique campaign token",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "abc123def456"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Phishing page displayed successfully",
                        "content": {
                            "text/html": {
                                "schema": {
                                    "description": "HTML content of the phishing simulation page",
                                    "type": "string",
                                    "example": "<!DOCTYPE html><html><head><title>Password Reset</title></head><body>...</body></html>"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Campaign not found"
                                        },
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid token"
                                        },
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/campaign/{token}/submit": {
            "post": {
                "tags": [
                    "Email Tracking"
                ],
                "summary": "Track phishing form submission",
                "description": "Track when an employee submits credentials to a phishing simulation (no real credentials are stored)",
                "operationId": "58e6a79ce52e9d4e076dd9750a0f2a41",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Unique campaign token",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "abc123def456"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "timestamp"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "employee@company.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "[REDACTED - NOT STORED]"
                                    },
                                    "department": {
                                        "type": "string",
                                        "example": "IT"
                                    },
                                    "timestamp": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "campaign_type": {
                                        "type": "string",
                                        "example": "phishing"
                                    },
                                    "template_name": {
                                        "type": "string",
                                        "example": "Password Reset"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Submission tracked successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Submission tracked successfully"
                                        },
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "note": {
                                            "type": "string",
                                            "example": "No real credentials were stored"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid token or validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign or target not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/fake-phishing-page": {
            "get": {
                "tags": [
                    "Email Tracking"
                ],
                "summary": "Show fake phishing page",
                "description": "Display a generic fake phishing page for testing or demonstration purposes. This endpoint is used when a valid campaign token is not available.",
                "operationId": "317a632f755dacaa48dcfa291e9fb0b5",
                "parameters": [
                    {
                        "name": "token",
                        "in": "query",
                        "description": "Optional campaign token",
                        "schema": {
                            "type": "string",
                            "example": "abc123def456"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Fake phishing page displayed successfully",
                        "content": {
                            "text/html": {
                                "schema": {
                                    "description": "HTML content of the fake phishing page",
                                    "type": "string",
                                    "example": "<!DOCTYPE html><html><head><title>Fake Login</title></head><body>...</body></html>"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Page not found - Redirect to 404",
                        "headers": {
                            "Location": {
                                "description": "URL to redirect to",
                                "schema": {
                                    "type": "string",
                                    "example": "https://example.com/404"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/plans": {
            "get": {
                "tags": [
                    "Payment"
                ],
                "summary": "List available subscription plans",
                "description": "Get all available subscription plans with pricing and features",
                "operationId": "4bc437d1e2fe1f62fcea7f0a647c2085",
                "responses": {
                    "200": {
                        "description": "Plans retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Plans retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Basic"
                                                    },
                                                    "price": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "example": 10
                                                    },
                                                    "employee_limit": {
                                                        "type": "integer",
                                                        "example": 50
                                                    },
                                                    "features": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/payment/checkout": {
            "post": {
                "tags": [
                    "Payment"
                ],
                "summary": "Initialize payment checkout",
                "description": "Initialize a payment checkout process for a subscription plan",
                "operationId": "2414a7c0f1c0a430af10755ef7876abf",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "plan_id"
                                ],
                                "properties": {
                                    "plan_id": {
                                        "description": "ID of the subscription plan",
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Payment initialized successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment initialized successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "transaction_id": {
                                                    "type": "string",
                                                    "example": "txn_123456789abcdef"
                                                },
                                                "checkout_url": {
                                                    "type": "string",
                                                    "example": "https://payment-gateway.com/checkout/txn_123456789abcdef"
                                                },
                                                "amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 10
                                                },
                                                "plan": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Basic"
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 10
                                                        },
                                                        "employee_limit": {
                                                            "type": "integer",
                                                            "example": 50
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "expires_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/payment/confirm": {
            "post": {
                "tags": [
                    "Payment"
                ],
                "summary": "Confirm payment",
                "description": "Confirm a payment transaction and update company subscription plan",
                "operationId": "0df263c50861f66499243017d1d7c872",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "transaction_id"
                                ],
                                "properties": {
                                    "transaction_id": {
                                        "description": "Transaction ID from payment gateway",
                                        "type": "string",
                                        "example": "txn_123456789abcdef"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Payment confirmed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment confirmed successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "payment": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "transaction_id": {
                                                            "type": "string",
                                                            "example": "txn_123456789abcdef"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "example": "completed"
                                                        },
                                                        "amount": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 10
                                                        },
                                                        "plan": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 2
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Basic"
                                                                },
                                                                "employee_limit": {
                                                                    "type": "integer",
                                                                    "example": 50
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Acme Corporation"
                                                        },
                                                        "plan_id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Payment confirmation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment confirmation failed"
                                        },
                                        "data": {
                                            "properties": {
                                                "payment": {
                                                    "properties": {
                                                        "status": {
                                                            "type": "string",
                                                            "example": "failed"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "transaction_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The transaction id field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to confirm payment"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Internal server error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/payments": {
            "get": {
                "tags": [
                    "Payment"
                ],
                "summary": "Get payment history",
                "description": "Get payment history for the authenticated company",
                "operationId": "63a00230d7e92c47bafed8dd26675efa",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number for pagination",
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of payments per page",
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter payments by status",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "pending",
                                "completed",
                                "failed",
                                "cancelled"
                            ],
                            "example": "completed"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Payment history retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment history retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "payments": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "transaction_id": {
                                                                "type": "string",
                                                                "example": "txn_123456789abcdef"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "example": "completed"
                                                            },
                                                            "amount": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 10
                                                            },
                                                            "plan": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 2
                                                                    },
                                                                    "name": {
                                                                        "type": "string",
                                                                        "example": "Basic"
                                                                    },
                                                                    "price": {
                                                                        "type": "number",
                                                                        "format": "float",
                                                                        "example": 10
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "total_payments": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "total_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 150
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/payments/{id}": {
            "get": {
                "tags": [
                    "Payment"
                ],
                "summary": "Get payment details",
                "description": "Get detailed information about a specific payment",
                "operationId": "6a6d11faa186d87ef8b26604b5181eff",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Payment ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Payment details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment details retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "company_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "plan_id": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "transaction_id": {
                                                    "type": "string",
                                                    "example": "txn_123456789abcdef"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "completed"
                                                },
                                                "amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 10
                                                },
                                                "plan": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Basic"
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 10
                                                        },
                                                        "employee_limit": {
                                                            "type": "integer",
                                                            "example": 50
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/payment/status/{transactionId}": {
            "get": {
                "tags": [
                    "Payment"
                ],
                "summary": "Get payment status",
                "description": "Get the current status of a payment transaction",
                "operationId": "7d6cef164d27aa7d05942d12e84dde18",
                "parameters": [
                    {
                        "name": "transactionId",
                        "in": "path",
                        "description": "Transaction ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "txn_123456789abcdef"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Payment status retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment status retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "transaction_id": {
                                                    "type": "string",
                                                    "example": "txn_123456789abcdef"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "completed"
                                                },
                                                "amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 10
                                                },
                                                "plan_name": {
                                                    "type": "string",
                                                    "example": "Basic"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "completed_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment not found"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Transaction not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/payment/cancel/{transactionId}": {
            "post": {
                "tags": [
                    "Payment"
                ],
                "summary": "Cancel payment",
                "description": "Cancel a pending payment transaction",
                "operationId": "feaef4c061c527cbbb745f11210f7a94",
                "parameters": [
                    {
                        "name": "transactionId",
                        "in": "path",
                        "description": "Transaction ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "txn_123456789abcdef"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Payment cancelled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Payment cancelled successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "transaction_id": {
                                                    "type": "string",
                                                    "example": "txn_123456789abcdef"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "cancelled"
                                                },
                                                "amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 10
                                                },
                                                "cancelled_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to cancel payment"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Internal server error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/reports": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "List available reports",
                "description": "Get a list of all available report types and recent reports for the authenticated company",
                "operationId": "bc9252d67df779510cb32d100fa329df",
                "parameters": [
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filter reports by type",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "campaign",
                                "company",
                                "export"
                            ],
                            "example": "campaign"
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "description": "Filter reports from date",
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-09-01"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "description": "Filter reports to date",
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-09-30"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reports list retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reports list retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "available_reports": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "type": {
                                                                "type": "string",
                                                                "example": "campaign"
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Campaign Analytics"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Detailed campaign performance metrics"
                                                            },
                                                            "endpoint": {
                                                                "type": "string",
                                                                "example": "/api/reports/campaign/{id}"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "recent_reports": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "example": "campaign"
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Q3 Phishing Campaign"
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "example": "completed"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "total_reports": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/reports/campaign/{id}": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get comprehensive campaign report",
                "description": "Get detailed analytics and performance metrics for a specific campaign including interaction details, time analytics, and charts-ready data",
                "operationId": "109e8eda57cf3e6d912714f14be81230",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Campaign ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Campaign report retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Campaign report retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "campaign": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "type": {
                                                            "type": "string",
                                                            "example": "phishing"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "example": "completed"
                                                        },
                                                        "start_date": {
                                                            "type": "string",
                                                            "format": "date",
                                                            "example": "2025-09-06"
                                                        },
                                                        "end_date": {
                                                            "type": "string",
                                                            "format": "date",
                                                            "example": "2025-09-13"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "summary": {
                                                    "properties": {
                                                        "total_targets": {
                                                            "type": "integer",
                                                            "example": 10
                                                        },
                                                        "open_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 85.5
                                                        },
                                                        "click_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 25
                                                        },
                                                        "submit_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 5
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "interaction_details": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "email": {
                                                                "type": "string",
                                                                "example": "john.doe@company.com"
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "John Doe"
                                                            },
                                                            "risk_level": {
                                                                "type": "string",
                                                                "example": "high"
                                                            },
                                                            "actions": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "charts_data": {
                                                    "properties": {
                                                        "interaction_timeline": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "department_breakdown": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "risk_level_distribution": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Campaign not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/reports/companies/{company}": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Get company report",
                "description": "Get comprehensive analytics and performance metrics for a specific company including all campaigns, user activity, and security insights",
                "operationId": "4cce13667b022b450f41cb1a91f4a0c1",
                "parameters": [
                    {
                        "name": "company",
                        "in": "path",
                        "description": "Company ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "period",
                        "in": "query",
                        "description": "Report period",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "7d",
                                "30d",
                                "90d",
                                "1y",
                                "all"
                            ],
                            "example": "30d"
                        }
                    },
                    {
                        "name": "include_details",
                        "in": "query",
                        "description": "Include detailed breakdown",
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Company report retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Company report retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "company": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Acme Corporation"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "admin@acme.com"
                                                        },
                                                        "plan": {
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Premium"
                                                                },
                                                                "employee_limit": {
                                                                    "type": "integer",
                                                                    "example": 500
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        "created_at": {
                                                            "type": "string",
                                                            "format": "date-time"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "summary": {
                                                    "properties": {
                                                        "total_campaigns": {
                                                            "type": "integer",
                                                            "example": 15
                                                        },
                                                        "active_campaigns": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "total_targets": {
                                                            "type": "integer",
                                                            "example": 150
                                                        },
                                                        "total_interactions": {
                                                            "type": "integer",
                                                            "example": 450
                                                        },
                                                        "average_open_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 78.5
                                                        },
                                                        "average_click_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 22.3
                                                        },
                                                        "average_submit_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 8.7
                                                        },
                                                        "security_score": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 85.2
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "campaign_performance": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "campaign_id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Q3 Security Training"
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "example": "phishing"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "example": "completed"
                                                            },
                                                            "targets_count": {
                                                                "type": "integer",
                                                                "example": 25
                                                            },
                                                            "open_rate": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 80
                                                            },
                                                            "click_rate": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 20
                                                            },
                                                            "submit_rate": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 5
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "security_insights": {
                                                    "properties": {
                                                        "vulnerable_employees": {
                                                            "type": "integer",
                                                            "example": 12
                                                        },
                                                        "high_risk_employees": {
                                                            "type": "integer",
                                                            "example": 3
                                                        },
                                                        "training_recommendations": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "improvement_areas": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "charts_data": {
                                                    "properties": {
                                                        "campaign_timeline": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "performance_trends": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        },
                                                        "department_breakdown": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object"
                                                            }
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Company not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/reports/export/{type}": {
            "get": {
                "tags": [
                    "Reports"
                ],
                "summary": "Export reports",
                "description": "Export reports in various formats (PDF, CSV, Excel) for campaigns, companies, or analytics data",
                "operationId": "b006d0f2f4193077424cdced7166c905",
                "parameters": [
                    {
                        "name": "type",
                        "in": "path",
                        "description": "Export type",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "campaign",
                                "company",
                                "analytics",
                                "interactions"
                            ],
                            "example": "campaign"
                        }
                    },
                    {
                        "name": "format",
                        "in": "query",
                        "description": "Export format",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "pdf",
                                "csv",
                                "xlsx",
                                "json"
                            ],
                            "example": "pdf"
                        }
                    },
                    {
                        "name": "campaign_id",
                        "in": "query",
                        "description": "Campaign ID (required for campaign exports)",
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "company_id",
                        "in": "query",
                        "description": "Company ID (required for company exports)",
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "description": "Start date for data export",
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-09-01"
                        }
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "description": "End date for data export",
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-09-30"
                        }
                    },
                    {
                        "name": "include_charts",
                        "in": "query",
                        "description": "Include charts in PDF exports",
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Report exported successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Report exported successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "export_id": {
                                                    "type": "string",
                                                    "example": "exp_123456789"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "campaign"
                                                },
                                                "format": {
                                                    "type": "string",
                                                    "example": "pdf"
                                                },
                                                "file_url": {
                                                    "type": "string",
                                                    "example": "https://api.example.com/exports/exp_123456789.pdf"
                                                },
                                                "file_size": {
                                                    "type": "integer",
                                                    "example": 2048576
                                                },
                                                "expires_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "download_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Invalid export parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid export parameters"
                                        },
                                        "errors": {
                                            "properties": {
                                                "campaign_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Campaign ID is required for campaign exports"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Resource not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Export generation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Export generation failed"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Unable to generate PDF file"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "Error": {
                "properties": {
                    "message": {
                        "type": "string",
                        "example": "Error message"
                    },
                    "errors": {
                        "type": "object",
                        "example": {
                            "field": [
                                "Validation error message"
                            ]
                        }
                    }
                },
                "type": "object"
            },
            "Success": {
                "properties": {
                    "message": {
                        "type": "string",
                        "example": "Success message"
                    },
                    "data": {
                        "type": "object"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "sanctum": {
                "type": "apiKey",
                "description": "Enter token in format (Bearer <token>)",
                "name": "Authorization",
                "in": "header"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Company authentication and authorization"
        },
        {
            "name": "Company",
            "description": "Company management and dashboard"
        },
        {
            "name": "Campaign",
            "description": "Phishing campaign management"
        },
        {
            "name": "Payment",
            "description": "Payment processing and subscription management"
        },
        {
            "name": "Reports",
            "description": "Campaign analytics and reporting"
        },
        {
            "name": "Email Tracking",
            "description": "Public email tracking and phishing simulation"
        }
    ]
}